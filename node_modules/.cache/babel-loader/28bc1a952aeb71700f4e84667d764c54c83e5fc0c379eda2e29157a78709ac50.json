{"ast":null,"code":"import{GoogleMap,InfoWindow,Marker,useJsApiLoader}from\"@react-google-maps/api\";import{useEffect,useState}from\"react\";import styles from\"./MapOfGoogle.module.scss\";import{detailsPlace}from\"../../../apis/mapOfGoogle\";import Loading from\"../../../components/Loading/Loading2\";import getUserLocation from\"../../../components/userLocation/GetUserLocation\";import StarRating5 from\"../../../components/RatingStar/StarRating5\";import ScrollToTopButton from\"../../../components/ScrollToTop/ScrollToTopButton\";import TruncatedText from\"../../../components/TruncatedText/TruncatedText\";import defaultImage from\"../../../assets/png/logo-google-maps-2017.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MapOfGoogle(){const[userLocation,setUserLocation]=useState(null);// Stocke la position géographique de l'utilisateur pour initiliser le centre de la map\nconst[places,setPlaces]=useState([]);// Stocke les lieux à proximité.\nconst[selectedPlace,setSelectedPlace]=useState(null);//Stocke le lieu sélectionné.\n//const placeRefs = useRef([]); // sert à stocker les références aux éléments DOM des lieux dans la liste affichée (utile pour le défilement jusqu'au lieu lorsqu'on clic sur la map)\nconst[clickedPlaceIndex,setClickedPlaceIndex]=useState(null);const[clickedPlaces,setClickedPlaces]=useState([]);const[noticeAppearsOnClick,setNoticeAppearsOnClick]=useState(false);const[openingsAppearsOnClick,setOpeningsAppearsOnClick]=useState(false);//// dès que places change d'état, crée une copie du tableau places et l'affecte à la variable d'état clickedPlaces, afin de s'assurer que les deux variables ont des références distinctes et que les mutations dans l'un n'affectent pas l'autre.\nuseEffect(()=>{setClickedPlaces([...places]);},[places]);/**\r\n   * Méthode asynchrone qui permet de rechercher des lieux à proximité de la localisation de l'utilisateur.\r\n   * Stocke ces lieux dans la variable d'état \"places\".\r\n   * L'appel à l'api se fait dans apis/mapOfGoogle\r\n   *\r\n   * @param {*} location\r\n   */const searchNearbyPlace=async location=>{try{//console.log(location);\nconst data=await detailsPlace(location,{language:\"fr\"});setPlaces(data);}catch(error){console.error(\"Error searching for places:\",error);}};/** @type {*}\r\n   * useLoadScript est fourni par @react-google-maps/api qui charge de manière asynchrone la bibliothèque Google Maps en utilisant une clé d'API.\r\n   * la clé api est stocké dans le \".env\" (cf dotenv-react)\r\n   */const{isLoaded}=useJsApiLoader({googleMapsApiKey:process.env.REACT_APP_GOOGLE_API_KEY});/** @type {*}\r\n   * Dès que la map Google est chargée (useEffect), on récupère la position de l'utilisateur avec \"getUserLocation()\"\r\n   * Si la position est récupérée on met à jour userLocation avec la position exacte\r\n   * et on appelle la fonction \"searchNearbyPlace()\"\r\n   */useEffect(()=>{if(isLoaded){getUserLocation().then(location=>{setUserLocation(location);searchNearbyPlace(location);}).catch(error=>{console.error(\"Error getting user location:\",error);});}},[isLoaded]);/**\r\n   * Permet de mettre à jour selectedPlace avec le lieu survoler\r\n   *\r\n   * @param {*} place info sur le lieu survolé\r\n   */const handleMarkerMouseOver=place=>{setSelectedPlace(place);};/**\r\n   * Récupére l'index du lieu cliqué.\r\n   * Puis selectionne l'élèment correspondant à l'index avec useRef.\r\n   * Effectue le défilement jusqu'à l'élèment correspondant\r\n   * @param {*} place info sur le lieu cliqué\r\n   */const handleMarkerClick=place=>{/** @type {*} permet de comparer chaque place_id du tableau places avec le place_id du lieu cliqué et renvoi la position de cet élément dans le tableau \"places\" */const index=places.findIndex(p=>p.place_id===place.place_id);setClickedPlaceIndex(index);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.app),children:!isLoaded?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(GoogleMap,{mapContainerClassName:\"\".concat(styles.mapContainer,\" animate__animated animate__flipInY animate__slower mt-3\"),center:userLocation,zoom:12,style:{width:\"50%\",height:\"100vh\"},children:[selectedPlace&&/*#__PURE__*/_jsx(InfoWindow,{position:{lat:selectedPlace.geometry.location.lat+0.0035,lng:selectedPlace.geometry.location.lng},onCloseClick:()=>{setSelectedPlace(null);setClickedPlaceIndex(null);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.infoWindow2,\" text-center\"),children:[/*#__PURE__*/_jsx(\"div\",{children:selectedPlace.name}),selectedPlace.rating&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Note : \",selectedPlace.rating,\"/5\"]})]})}),places.map(place=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Marker,{position:{lat:place.geometry.location.lat,lng:place.geometry.location.lng},icon:{url:require(\"./../../../assets/svg/location_marker.svg\").default,scaledSize:new window.google.maps.Size(40,40)},onMouseOver:()=>handleMarkerMouseOver(place),onTouchStart:()=>handleMarkerMouseOver(place),onClick:()=>handleMarkerClick(place)})},place.place_id))]})})}),/*#__PURE__*/_jsx(\"div\",{children:clickedPlaces.sort((a,b)=>{if(clickedPlaceIndex!==null){if(a.place_id===places[clickedPlaceIndex].place_id)return-1;if(b.place_id===places[clickedPlaceIndex].place_id)return 1;}return 0;}).map((place,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.cart,\" flex-column mt-3 \"),id:\"place-\".concat(place.id),style:{order:clickedPlaceIndex===i?-1:i},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[place.photos?/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-5 col-md-5 col-sm-12\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://maps.googleapis.com/maps/api/place/photo?maxwidth=600&maxheight=600&photo_reference=\".concat(place.photos[0].photo_reference,\"&key=\").concat(process.env.REACT_APP_GOOGLE_API_KEY),alt:\"\".concat(place.name),className:\"rounded mx-auto d-block\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-5 col-md-5 col-sm-12 \",children:/*#__PURE__*/_jsx(\"img\",{src:defaultImage,alt:\"default google map\",className:\"rounded mx-auto d-block opacity-50\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.carte,\" col-lg-7 col-md-7 col-sm-12 animate__animated animate__jackInTheBox animate__slower\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column \",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"\".concat(styles.decoNone,\" \").concat(styles.cursorItineraire,\" \"),href:place.details.url,target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\" text-center p-1\",children:place.name}),/*#__PURE__*/_jsx(\"p\",{className:\" text-center\",children:place.vicinity})]}),/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(place.details.formatted_phone_number),className:\"text-center \".concat(styles.cursorPhone,\" \").concat(styles.decoNone,\" pt-2 decoNone\"),children:place.details.formatted_phone_number}),/*#__PURE__*/_jsx(\"div\",{children:place.rating&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"p\",{children:[place.rating,\"/5 pour \",place.user_ratings_total,\" \",\"votes\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.myButtonDeco,\" \").concat(styles.cursorWeb,\" text-center\"),children:place.details.website&&/*#__PURE__*/_jsx(\"a\",{href:place.details.website,target:\"_blank\",rel:\"noopener noreferrer\",className:\" decoNone \".concat(styles.cursorWeb,\" \"),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-nowrap\",children:\"Site web\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.myButtonDeco,\" text-center \").concat(styles.cursorItineraire),children:place.details.url&&/*#__PURE__*/_jsx(\"a\",{href:place.details.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"decoNone \".concat(styles.cursorItineraire),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center text-nowrap \",children:\"Itin\\xE9raire\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:place.details.reviews&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setNoticeAppearsOnClick(prevValue=>!prevValue),target:\"_blank\",rel:\"noopener noreferrer\",className:\"\".concat(styles.myButtonDeco),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center \".concat(styles.cursorAvis),children:\"Avis\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.cursorHoraire),children:place.details.opening_hours&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOpeningsAppearsOnClick(prevValue=>!prevValue),target:\"_blank\",rel:\"noopener noreferrer\",className:\"\".concat(styles.myButtonDeco,\" \").concat(styles.cursorHoraire,\" decoNone\"),children:/*#__PURE__*/_jsx(\"span\",{className:\"text-center \".concat(styles.cursorHoraire),children:\"Horaires\"})})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[openingsAppearsOnClick&&place.details.opening_hours&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.carte2,\" col-lg-5 col-md-5 col-sm-12 \"),children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-center mt-4 \".concat(styles.decoAvis),children:[\" \",\"Horaire d'ouverture\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.cart,\" mt-2\"),children:place.details.opening_hours.weekday_text.map((index,j)=>/*#__PURE__*/_jsx(\"p\",{children:index},j))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-7 col-md-7 col-sm-12 animate__animated animate__bounce animate__slower\",children:noticeAppearsOnClick&&place.details.reviews&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-column\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"\".concat(styles.decoAvis,\" text-center mt-4\"),children:\"Avis\"}),place.details.reviews.map((review,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.cart,\" mt-2\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"col-6\",children:review.author_name}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(StarRating5,{starCount:review.rating})})]}),/*#__PURE__*/_jsx(TruncatedText,{text:review.text})]},i))]})})]})]},i))}),/*#__PURE__*/_jsx(ScrollToTopButton,{})]});}","map":{"version":3,"names":["GoogleMap","InfoWindow","Marker","useJsApiLoader","useEffect","useState","styles","detailsPlace","Loading","getUserLocation","StarRating5","ScrollToTopButton","TruncatedText","defaultImage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MapOfGoogle","userLocation","setUserLocation","places","setPlaces","selectedPlace","setSelectedPlace","clickedPlaceIndex","setClickedPlaceIndex","clickedPlaces","setClickedPlaces","noticeAppearsOnClick","setNoticeAppearsOnClick","openingsAppearsOnClick","setOpeningsAppearsOnClick","searchNearbyPlace","location","data","language","error","console","isLoaded","googleMapsApiKey","process","env","REACT_APP_GOOGLE_API_KEY","then","catch","handleMarkerMouseOver","place","handleMarkerClick","index","findIndex","p","place_id","children","className","concat","app","mapContainerClassName","mapContainer","center","zoom","style","width","height","position","lat","geometry","lng","onCloseClick","infoWindow2","name","rating","map","icon","url","require","default","scaledSize","window","google","maps","Size","onMouseOver","onTouchStart","onClick","sort","a","b","i","cart","id","order","photos","src","photo_reference","alt","carte","decoNone","cursorItineraire","href","details","target","rel","vicinity","formatted_phone_number","cursorPhone","user_ratings_total","myButtonDeco","cursorWeb","website","reviews","type","prevValue","cursorAvis","cursorHoraire","opening_hours","carte2","decoAvis","weekday_text","j","review","author_name","starCount","text"],"sources":["C:/Users/PCD DELL/Desktop/CDA/Connexion_google_facebook/Front/src/pages/homepage/components/MapOfGoogle.js"],"sourcesContent":["import {\r\n  GoogleMap,\r\n  InfoWindow,\r\n  Marker,\r\n  useJsApiLoader,\r\n} from \"@react-google-maps/api\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styles from \"./MapOfGoogle.module.scss\";\r\nimport { detailsPlace } from \"../../../apis/mapOfGoogle\";\r\nimport Loading from \"../../../components/Loading/Loading2\";\r\nimport getUserLocation from \"../../../components/userLocation/GetUserLocation\";\r\nimport StarRating5 from \"../../../components/RatingStar/StarRating5\";\r\nimport ScrollToTopButton from \"../../../components/ScrollToTop/ScrollToTopButton\";\r\nimport TruncatedText from \"../../../components/TruncatedText/TruncatedText\";\r\nimport defaultImage from \"../../../assets/png/logo-google-maps-2017.png\";\r\n\r\nexport default function MapOfGoogle() {\r\n  const [userLocation, setUserLocation] = useState(null); // Stocke la position géographique de l'utilisateur pour initiliser le centre de la map\r\n  const [places, setPlaces] = useState([]); // Stocke les lieux à proximité.\r\n  const [selectedPlace, setSelectedPlace] = useState(null); //Stocke le lieu sélectionné.\r\n  //const placeRefs = useRef([]); // sert à stocker les références aux éléments DOM des lieux dans la liste affichée (utile pour le défilement jusqu'au lieu lorsqu'on clic sur la map)\r\n  const [clickedPlaceIndex, setClickedPlaceIndex] = useState(null);\r\n  const [clickedPlaces, setClickedPlaces] = useState([]);\r\n  const [noticeAppearsOnClick, setNoticeAppearsOnClick] = useState(false);\r\n  const [openingsAppearsOnClick, setOpeningsAppearsOnClick] = useState(false);\r\n\r\n  //// dès que places change d'état, crée une copie du tableau places et l'affecte à la variable d'état clickedPlaces, afin de s'assurer que les deux variables ont des références distinctes et que les mutations dans l'un n'affectent pas l'autre.\r\n  useEffect(() => {\r\n    setClickedPlaces([...places]);\r\n  }, [places]);\r\n\r\n  /**\r\n   * Méthode asynchrone qui permet de rechercher des lieux à proximité de la localisation de l'utilisateur.\r\n   * Stocke ces lieux dans la variable d'état \"places\".\r\n   * L'appel à l'api se fait dans apis/mapOfGoogle\r\n   *\r\n   * @param {*} location\r\n   */\r\n  const searchNearbyPlace = async (location) => {\r\n    try {\r\n      //console.log(location);\r\n      const data = await detailsPlace(location, { language: \"fr\" });\r\n      setPlaces(data);\r\n    } catch (error) {\r\n      console.error(\"Error searching for places:\", error);\r\n    }\r\n  };\r\n\r\n  /** @type {*}\r\n   * useLoadScript est fourni par @react-google-maps/api qui charge de manière asynchrone la bibliothèque Google Maps en utilisant une clé d'API.\r\n   * la clé api est stocké dans le \".env\" (cf dotenv-react)\r\n   */\r\n  const { isLoaded } = useJsApiLoader({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_API_KEY,\r\n  });\r\n\r\n  /** @type {*}\r\n   * Dès que la map Google est chargée (useEffect), on récupère la position de l'utilisateur avec \"getUserLocation()\"\r\n   * Si la position est récupérée on met à jour userLocation avec la position exacte\r\n   * et on appelle la fonction \"searchNearbyPlace()\"\r\n   */\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      getUserLocation()\r\n        .then((location) => {\r\n          setUserLocation(location);\r\n          searchNearbyPlace(location);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error getting user location:\", error);\r\n        });\r\n    }\r\n  }, [isLoaded]);\r\n\r\n  /**\r\n   * Permet de mettre à jour selectedPlace avec le lieu survoler\r\n   *\r\n   * @param {*} place info sur le lieu survolé\r\n   */\r\n  const handleMarkerMouseOver = (place) => {\r\n    setSelectedPlace(place);\r\n  };\r\n\r\n  /**\r\n   * Récupére l'index du lieu cliqué.\r\n   * Puis selectionne l'élèment correspondant à l'index avec useRef.\r\n   * Effectue le défilement jusqu'à l'élèment correspondant\r\n   * @param {*} place info sur le lieu cliqué\r\n   */\r\n  const handleMarkerClick = (place) => {\r\n    /** @type {*} permet de comparer chaque place_id du tableau places avec le place_id du lieu cliqué et renvoi la position de cet élément dans le tableau \"places\" */\r\n    const index = places.findIndex((p) => p.place_id === place.place_id);\r\n    setClickedPlaceIndex(index);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={`${styles.app}`}>\r\n        {!isLoaded ? (\r\n          <Loading />\r\n        ) : (\r\n          <>\r\n            <GoogleMap\r\n              mapContainerClassName={`${styles.mapContainer} animate__animated animate__flipInY animate__slower mt-3`}\r\n              center={userLocation}\r\n              zoom={12}\r\n              style={{ width: \"50%\", height: \"100vh\" }}\r\n            >\r\n              {selectedPlace && (\r\n                <InfoWindow\r\n                  position={{\r\n                    lat: selectedPlace.geometry.location.lat + 0.0035,\r\n                    lng: selectedPlace.geometry.location.lng,\r\n                  }}\r\n                  onCloseClick={() => {\r\n                    setSelectedPlace(null);\r\n                    setClickedPlaceIndex(null);\r\n                  }}\r\n                >\r\n                  <div className={`${styles.infoWindow2} text-center`}>\r\n                    <div>{selectedPlace.name}</div>\r\n                    {selectedPlace.rating && (\r\n                      <div>Note : {selectedPlace.rating}/5</div>\r\n                    )}\r\n                  </div>\r\n                </InfoWindow>\r\n              )}\r\n              {places.map((place) => (\r\n                <div key={place.place_id}>\r\n                  <Marker\r\n                    position={{\r\n                      lat: place.geometry.location.lat,\r\n                      lng: place.geometry.location.lng,\r\n                    }}\r\n                    icon={{\r\n                      url: require(\"./../../../assets/svg/location_marker.svg\")\r\n                        .default,\r\n                      scaledSize: new window.google.maps.Size(40, 40),\r\n                    }}\r\n                    onMouseOver={() => handleMarkerMouseOver(place)}\r\n                    onTouchStart={() => handleMarkerMouseOver(place)}\r\n                    onClick={() => handleMarkerClick(place)}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </GoogleMap>\r\n          </>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {clickedPlaces\r\n          .sort((a, b) => {\r\n            if (clickedPlaceIndex !== null) {\r\n              if (a.place_id === places[clickedPlaceIndex].place_id) return -1;\r\n              if (b.place_id === places[clickedPlaceIndex].place_id) return 1;\r\n            }\r\n            return 0;\r\n          })\r\n          .map((place, i) => (\r\n            <div\r\n              key={i}\r\n              className={`${styles.cart} flex-column mt-3 `}\r\n              id={`place-${place.id}`}\r\n              style={{ order: clickedPlaceIndex === i ? -1 : i }}\r\n            >\r\n              <div className=\"row justify-content-center\">\r\n                {place.photos ? (\r\n                  <div className=\"col-lg-5 col-md-5 col-sm-12\">\r\n                    <img\r\n                      src={`https://maps.googleapis.com/maps/api/place/photo?maxwidth=600&maxheight=600&photo_reference=${place.photos[0].photo_reference}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`}\r\n                      alt={`${place.name}`}\r\n                      className=\"rounded mx-auto d-block\"\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"col-lg-5 col-md-5 col-sm-12 \">\r\n                    <img\r\n                      src={defaultImage}\r\n                      alt=\"default google map\"\r\n                      className=\"rounded mx-auto d-block opacity-50\"\r\n                    ></img>\r\n                  </div>\r\n                )}\r\n                <div\r\n                  className={`${styles.carte} col-lg-7 col-md-7 col-sm-12 animate__animated animate__jackInTheBox animate__slower`}\r\n                >\r\n                  <div className=\"d-flex flex-column \">\r\n                    <a\r\n                      className={`${styles.decoNone} ${styles.cursorItineraire} `}\r\n                      href={place.details.url}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                    >\r\n                      <h2 className=\" text-center p-1\">{place.name}</h2>\r\n                      <p className={` text-center`}>{place.vicinity}</p>\r\n                    </a>\r\n                    <a\r\n                      href={`tel:${place.details.formatted_phone_number}`}\r\n                      className={`text-center ${styles.cursorPhone} ${styles.decoNone} pt-2 decoNone`}\r\n                    >\r\n                      {place.details.formatted_phone_number}\r\n                    </a>\r\n                    <div>\r\n                      {place.rating && (\r\n                        <>\r\n                          <p>\r\n                            {place.rating}/5 pour {place.user_ratings_total}{\" \"}\r\n                            votes\r\n                          </p>\r\n                          {/* <p>\r\n                          <StarRating starCount={place.rating} />\r\n                        </p> */}\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"\">\r\n                      <div\r\n                        className={`${styles.myButtonDeco} ${styles.cursorWeb} text-center`}\r\n                      >\r\n                        {place.details.website && (\r\n                          <a\r\n                            href={place.details.website}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className={` decoNone ${styles.cursorWeb} `}\r\n                          >\r\n                            <span className=\"text-center text-nowrap\">\r\n                              Site web\r\n                            </span>\r\n                          </a>\r\n                        )}\r\n                      </div>\r\n                      <div\r\n                        className={`${styles.myButtonDeco} text-center ${styles.cursorItineraire}`}\r\n                      >\r\n                        {place.details.url && (\r\n                          <a\r\n                            href={place.details.url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className={`decoNone ${styles.cursorItineraire}`}\r\n                          >\r\n                            <span className=\"text-center text-nowrap \">\r\n                              Itinéraire\r\n                            </span>\r\n                          </a>\r\n                        )}\r\n                      </div>\r\n                      <div className={``}>\r\n                        {place.details.reviews && (\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() =>\r\n                              setNoticeAppearsOnClick((prevValue) => !prevValue)\r\n                            }\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className={`${styles.myButtonDeco}`}\r\n                          >\r\n                            <span\r\n                              className={`text-center ${styles.cursorAvis}`}\r\n                            >\r\n                              Avis\r\n                            </span>\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                      <div className={`${styles.cursorHoraire}`}>\r\n                        {place.details.opening_hours && (\r\n                          <button\r\n                            onClick={() =>\r\n                              setOpeningsAppearsOnClick(\r\n                                (prevValue) => !prevValue\r\n                              )\r\n                            }\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className={`${styles.myButtonDeco} ${styles.cursorHoraire} decoNone`}\r\n                          >\r\n                            <span\r\n                              className={`text-center ${styles.cursorHoraire}`}\r\n                            >\r\n                              Horaires\r\n                            </span>\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row justify-content-center\">\r\n                {openingsAppearsOnClick && place.details.opening_hours && (\r\n                  <div\r\n                    className={`${styles.carte2} col-lg-5 col-md-5 col-sm-12 `}\r\n                  >\r\n                    <h4 className={`text-center mt-4 ${styles.decoAvis}`}>\r\n                      {\" \"}\r\n                      Horaire d'ouverture{\" \"}\r\n                    </h4>\r\n                    <div className={`${styles.cart} mt-2`}>\r\n                      {place.details.opening_hours.weekday_text.map(\r\n                        (index, j) => (\r\n                          <p key={j}>{index}</p>\r\n                        )\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div\r\n                  className={`col-lg-7 col-md-7 col-sm-12 animate__animated animate__bounce animate__slower`}\r\n                >\r\n                  {noticeAppearsOnClick && place.details.reviews && (\r\n                    <div className=\"flex-column\">\r\n                      <h3 className={`${styles.decoAvis} text-center mt-4`}>\r\n                        Avis\r\n                      </h3>\r\n                      {place.details.reviews.map((review, i) => (\r\n                        <div key={i} className={`${styles.cart} mt-2`}>\r\n                          <div className=\"row\">\r\n                            <h4 className=\"col-6\">{review.author_name}</h4>\r\n                            <div className=\"col-6\">\r\n                              <StarRating5 starCount={review.rating} />\r\n                            </div>\r\n                          </div>\r\n                          <TruncatedText text={review.text} />\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n      <ScrollToTopButton />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}